% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode
\documentclass[15pt]{article} 

%%% ENCODING
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\usepackage[T1]{fontenc}

%%% FONTS
\usepackage{lmodern} 
\usepackage[scaled]{helvet} 

%%% PAGE DIMENSIONS
\usepackage[top=25pt, bottom=33pt, left=30pt, right=30pt]{geometry}
\geometry{a5paper}
\pagestyle{empty} % no header nor footer
\pagenumbering{gobble} % suppress page numbering on first page

% MISCELLANEOUS
\usepackage{graphicx} % support the \includegraphics command and options
\usepackage{setspace} % spacing between lines
\usepackage{microtype} % micro-typographic font refinement
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
\usepackage{truncate} %for truncating song titles in ToC
\usepackage{xfrac} % better fractions, E.G. 3/4 etc.
\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent
\usepackage{needspace}

% CHORDS & MUSIC
\usepackage{gtrcrd} % chords above lyrics
\usepackage{gchords} % chord diagrams
\usepackage{musixtex} % typeset music notation

% TABLE OF CONTENTS
\usepackage{tableof} % for tagged table of contents
\usepackage{etoc} % for customized typesetting of tocs
% introduce sectioning element `song'
\etocsetlevel{song}{1}
% define ToC line style for song
% \etocsetstyle{<levelname>}{<start>}{<prefix>}{<contents>}{<finish>}
\etocsetstyle{song}{} 
{\leavevmode\leftskip 0pt\relax}
{\hskip 4pt{\etocname}\nobreak\hfill\nobreak\par}{}

% CUSTOM MACROS
\input{macros.tex}
\input{chords_adjustments.tex}


\begin{document}

%% ToC categorized
\categoryHeader{KATEGORIE}
\begin{multicols}{2}
  \setlength{\columnsep}{20pt}
  \raggedcolumns
  \categoryHeader{Zahraniční}
    \categoryToc{Anglické}{anglicke}
    \categoryToc{Slovenské}{slovenske}
  
  \categoryHeader{Písničkáři}
    \categoryToc{Tomáš Klus}{klus}
    \categoryToc{Karel Kryl}{kryl}
    \categoryToc{Jaromír Nohavica}{nohavica}
    \categoryToc{Karel Plíhal}{plihal}
    
  \categoryHeader{České kapely}
    \categoryToc{Arakain, Brichta, BSP}{arakain, brichta, bsp}
    \categoryToc{Buty}{buty}
    \categoryToc{Chinaski}{chinaski}
    \categoryToc{Kabát}{kabat}
    \categoryToc{Lucie}{lucie}
    \categoryToc{Olympic}{olympic}
    \categoryToc{Žlutý pes}{zlutypes}
    \categoryToc{ostatní}{ceskekapely}

  \categoryHeader{Folk, country}
    \categoryToc{Spirituál kvintet, Nedvědi, Brontosauři}{spiritual, nedvedi, brontosauri}
    \categoryToc{Čechomor}{cechomor}
    \categoryToc{Robert Křesťan}{krestan}
    \categoryToc{Pavel Lohonka Žalman}{zalman}
    \categoryToc{Nerez, Zuzana Navarová}{nerez, navarova}
    \categoryToc{ostatní}{folk, raduza}

  \categoryHeader{Čeští skladatelé}
    \categoryToc{P. Hapka + M. Horáček}{hapka}
    \categoryToc{J. Voskovec + J. Werich}{vw}
    \categoryToc{Z. Svěrák + J. Uhlíř}{sverakuhlir, uhlirsverak}
    \categoryToc{Ivan Mládek}{mladek}
    \categoryToc{J. Suchý + J. Šlitr}{suchyslitr}

  \categoryHeader{Filmové, muzikálové}
    \categoryToc{Ivan Hlas}{hlas}
    \categoryToc{ostatní}{filmove}
\end{multicols}
\clearpage

%% full list of songs
\etocruledstyle{\textbf{\large\ \uppercase{Obsah}\ }}
\nexttocwithtags{}{}\tableofcontents
\clearpage

%% document settings
\Large % do not remove! Otherwise titles will get messed up -_-
\fontsize{14pt}{2.9ex} \selectfont
\setlength{\parskip}{2ex} % vertical space between paragraphs
\crdheight=2.5ex

% typesetting chords on their own will not print them;
% they need to be in the printchords macro
% \DoNotPrintChordsByDefault

%% --------------  SONGS --------------------

\include{songs/a}
\include{songs/b}
\include{songs/c}
\include{songs/d}
\include{songs/e}
\include{songs/f}
\include{songs/g}
\include{songs/h}
\include{songs/ch}
\include{songs/i}
\include{songs/j}
\include{songs/k}
\include{songs/l}
\include{songs/m}
\include{songs/n}
\include{songs/o}
\include{songs/p}
\include{songs/r}
\include{songs/s}
\include{songs/t}
\include{songs/u}
\include{songs/v}
\include{songs/w}
\include{songs/y}
\include{songs/z}


% <DO NOT REMOVE!> 
%% This hack addresses the bug of tableof package (I think, before it was ok):
%% if \clearpage is right before end{document}, it breaks (wont even typeset)
~\\
% </DO NOT REMOVE> 


% end of multicols in toc, needs to be after last title
\addtocontents{lem}{\protect\end{multicols}} 

\end{document}
